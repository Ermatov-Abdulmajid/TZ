"use strict";(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[960],{71160:function(e,t,n){n.d(t,{c:function(){return o}});var r=n(22310),c=navigator.userAgent,o=(0,r.Z)((function(){return/macintosh/i.test(c)&&!/(ipod|iphone|ipad)/i.test(c)}));(0,r.Z)((function(){return/windows/i.test(c)}))},20555:function(e,t,n){n.d(t,{v_:function(){return E}});var r=n(49919),c=n(43941),o=n(66097),a=n(22310),s=n(80418),u=n(39566),i=n(87630),p=n(21571),f=n(62380),l=n(51852),d=n(87989),Z=n(75859),h=n(49559),v=n(75656),g=n(62629),m=n(58216),w=function(e){(0,h.Z)(n,e);var t=(0,v.Z)(n);function n(e,r){var c;return(0,d.Z)(this,n),c=t.call(this,e),(0,m.Z)((0,Z.Z)(c),"name","HeycanError"),c.context=r,c}return(0,l.Z)(n)}((0,g.Z)(Error)),y=n(7723),x=n(97545);function _(e,t){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)((0,c.Z)().mark((function e(t,n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.Gw)({nodeKey:t,keys:n});case 3:return r=e.sent,e.abrupt("return",r.nodeKey);case 7:e.prev=7,e.t0=e.catch(0),(0,y.RF)("[getSettings] error",e.t0,{nodeKey:t,keys:n});case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}u.ZP.use(new i.Z);var k=(0,a.Z)((0,o.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.next=4,_("abtest_use_new_host",["enabled"]);case 4:return t=e.sent,e.abrupt("return","true"===t.enabled);case 6:case"end":return e.stop()}}),e)})))),C=["/lv/v1/user/web/get_user_info","/lv/v1/user/get_enable_list"],q=["/artist/v1/homepage/get_effect_list"];function H(e,t){var n=(null==t?void 0:t.useNewHost)||!1;if(e){if(C.includes(e))return n?"https://feed-api.capcutapi.com":"https://feed-api.capcut.com";if(q.includes(e))return n?"https://heycan-api.capcutapi.com":"https://api-heycan-pc-sg.capcut.com"}return n?"https://editor-api.capcutapi.com":"https://editor-api-sg.capcut.com"}function S(e,t){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)((0,c.Z)().mark((function e(t,n){var o,a,i,l,d,Z,h,v,g,m,x,_,b,C,q,S;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return o=e.sent,a=t.startsWith("/")?"".concat(H(t,{useNewHost:o})).concat(t):t,i=s.parseUrl(a),l=f.K.appInfo,d=l.region,Z=l.language,h=l.appVersionName,v=s.stringifyUrl({url:i.url,query:(0,r.Z)({region:d,language:Z,version_name:h},i.query)}),g={url:v,method:n.method,needCommonParams:!0,header:(0,r.Z)({"Content-Type":"application/json"},n.headers),data:n.data?JSON.stringify(n.data):void 0},x=function(e){return p.oc.t("pc_stickers_prompt_failed_{X}",{X:e})},(m=function(e,c,a){var s=(0,r.Z)((0,r.Z)({rawUrl:t,useNewHost:o},g),a);"error"===e?(0,y.RF)(c,null,s):n.onlyLogOnError||(0,y.c6)(c,s)})("info","[request] start - ".concat(t)),_=null,e.prev=12,e.next=15,u.ZP.call("request",g);case 15:_=e.sent,e.next=23;break;case 18:throw e.prev=18,e.t0=e.catch(12),b="[request] failed - jsb - ".concat(t),m("error",b,{code:e.t0.code,errorText:JSON.stringify(e.t0)}),new w(b,{code:e.t0.code,displayMessage:x("jsb")});case 23:if(C={httpCode:_.httpCode,code:_.response.ret,errmsg:_.response.errmsg,logid:_.response.logid||_.response.log_id},200===_.httpCode){e.next=28;break}throw q="[request] failed - httpCode ".concat(_.httpCode," - ").concat(t),m("error",q,C),new w(q,(0,r.Z)((0,r.Z)({},C),{},{displayMessage:x("http ".concat(_.httpCode))}));case 28:if("success"===_.response.errmsg){e.next=32;break}throw S="[request] failed - ".concat(C.code," ").concat(C.errmsg," - ").concat(t),m("error",S,C),new w(S,(0,r.Z)((0,r.Z)({},C),{},{displayMessage:x("".concat(C.code," ").concat(C.errmsg))}));case 32:return m("info","[request] success ".concat(t),C),e.abrupt("return",_.response.data);case 34:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function E(e,t,n){return S(e,(0,r.Z)({method:"POST",data:t},n))}},7723:function(e,t,n){n.d(t,{$G:function(){return y},RF:function(){return Z},c6:function(){return l}});var r=n(43941),c=n(17576),o=n(49919),a=n(66097),s=n(24166),u=n(67006),i=n.n(u),p=["ctx"],f=function(){return i()().format("MM-DD HH:mm:ss.SSSZ")};function l(e,t){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(t,n){var c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c="".concat(f()," ").concat(t),(0,s.Z)("sendLog",{level:"info",content:c,extra:n});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,n){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(t,n,c){var a,u,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="HeycanError"===(null==n?void 0:n.name)?n.context:n,n&&(0,s.Z)("captureException",n,(0,o.Z)((0,o.Z)({},a),c)),u="".concat(f()," ").concat(t),i=(0,o.Z)((0,o.Z)({stack:null==n?void 0:n.stack,message:null==n?void 0:n.message},a),c),(0,s.Z)("sendLog",{level:"error",content:u,extra:i}),console.error("[slardar] ".concat(u),(0,o.Z)({},i)),n&&console.error(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=[],g=1e3;function m(e){var t=e.post;e.post=function(n){var r=n.success,c=n.fail;t((0,o.Z)((0,o.Z)({},n),{},{success:function(t){!function(){if(0!==v.length){var t=v.shift();t&&e.post(t)}}(),null==r||r(t)},fail:function(e){v.push(n),v.length>g&&v.shift(),null==c||c(e)}}))}}var w=!1;function y(e){w||(w=!0,s.Z.on("init",(function(){var e,t=null===(e=s.Z.config())||void 0===e?void 0:e.transport;t&&m(t)})));var t=e.ctx,n=(0,c.Z)(e,p);(0,s.Z)("config",n),t&&s.Z.context&&(0,s.Z)("context.merge",t)}},72781:function(e,t,n){n(61235),n(69724),n(96117),n(77108),n(95328),n(39965),n(18641),n(81893),n(49892),n(49483),n(88210),n(25997),n(28834),n(10111),n(73506),n(59538),n(79611),n(18114),n(91921),n(65394),n(69109),n(80031),n(50103),n(81844),n(62780),n(40274),n(96807),n(89042),n(24542),n(52040),n(42639),n(29543),n(43125),n(4302),n(63691),n(83001),n(90511),n(71812),n(162),n(98043),n(53705),n(81289),n(25065),n(18819),n(82088),n(72304),n(92346),n(23609),n(27535),n(83600),n(87227),n(47139),n(58944),n(28933),n(72050),n(84682),n(31818),n(39055),n(88906),n(20789),n(80108),n(69604),n(40698),n(98853),n(64465),n(92357),n(89620),n(52075),n(42617),n(32286),n(87094),n(56996),n(26591),n(92263),n(44597),n(76006),n(45002),n(17344),n(95534),n(68475),n(10583),n(89066),n(85598),n(64544),n(52316),n(6877),n(21843),n(72649),n(94584),n(99329),n(61391),n(16925),n(98761),n(54566),n(74676),n(90113),n(77956),n(90436),n(7986),n(19551),n(65477),n(63481),n(79257),n(30479),n(75341),n(9318),n(84456),n(62995),n(76626),n(7845),n(66715),n(11673),n(20450),n(37665),n(18762),n(25303),n(26368),n(11441),n(95675),n(77324),n(91995),n(75281),n(83945),n(47684),n(22369),n(31594),n(25710),n(5538),n(8760),n(90982),n(4592),n(40542),n(30740),n(21861),n(92506),n(84251),n(59351),n(75488),n(63508),n(89090),n(99837),n(95525),n(19329),n(88284),n(14931),n(39723),n(3270),n(14863),n(16366),n(96089),n(41337),n(96669),n(46743),n(82),n(78819),n(30220),n(48096),n(71782),n(66469),n(27639),n(74553),n(13105),n(39761),n(20362),n(72835),n(87859),n(31781),n(15089),n(70785),n(35019),n(47921),n(71541),n(52398),n(31412),n(74156),n(65719),n(49593),n(51735),n(60384),n(90204),n(49825),n(22827),n(30714),n(60178),n(83528),n(30848),n(95911),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(37193),n(83360),n(45155),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(93006),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(72490),n(98775),n(5628),n(22414),n(99024),n(21692),n(35576),n(33778),n(28016),n(34075),n(38955),n(58372),n(70221),n(85118),n(12076),n(7507),n(75573),n(99291),n(40669),n(16018),n(72011),n(8906),n(85366),n(51381),n(52077),n(97099),n(47851),n(59299),n(71988),n(97896),n(87178),n(41931),n(40265),n(86864),n(91937),n(4669),n(66393),n(99494),n(62653),n(28670),n(58475),n(99776),n(98490),n(89068),n(50547),n(48524),n(49884),n(89288),n(15906),n(47421),n(80078),n(21457),n(19861),n(27459),n(81019),n(88406),n(14194),n(48970),n(82472),n(50737),n(8935),n(70205),n(35193),n(36826),n(47802),n(96343),n(10789),n(87994),n(94420),n(83186),n(99583),n(16383),n(98408),n(26204),n(73067),n(54604),n(21505),n(82473),n(88755),n(46038),n(94292),n(39029),n(27666),n(536),n(52062),n(94864),n(35143),n(87555),n(58819),n(31701),n(83808),n(56693),n(77892),n(94463),n(73458),n(72954),n(85135),n(52632),n(42080),n(40931),n(70370),n(48775),n(77459),n(3638),n(40476),n(95231),n(58273),n(76559),n(86262),n(57789),n(87233),n(47332),n(5184),n(40219),n(47975),n(98852),n(93304),n(8271),n(82682),n(34454),n(97357),n(89797),n(66959),n(32275),n(75022),n(23953),n(82319),n(19692),n(87953),n(57185),n(28307),n(49108),n(17483),n(74256),n(26525),n(20337),n(65319),n(68854),n(12906),n(19794),n(19131),n(58955),n(26985),n(48793),n(43177),n(44025),n(70629),n(86458),n(42147),n(15887),n(11110),n(99071),n(28403),n(72013),n(23818),n(40364),n(6837),n(35629),n(62821),n(72845),n(67971),n(89854),n(91980),n(83469),n(3817),n(97173),n(27267),n(88583),n(34340),n(98150),n(51605),n(85129),n(42199),n(70969),n(71756),n(65130),n(86554),n(57137),n(13875),n(23785),n(85267),n(80775),n(70238),n(32938),n(99975),n(45880),n(4361)},97951:function(){window.__assetPrefix__="."}}]);