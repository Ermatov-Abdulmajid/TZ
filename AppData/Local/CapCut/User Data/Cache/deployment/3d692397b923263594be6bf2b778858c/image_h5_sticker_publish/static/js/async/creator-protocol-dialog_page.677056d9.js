"use strict";(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[898],{52891:function(e,t,n){n.d(t,{q7:function(){return r}});const r="Enter"},91459:function(e,t,n){function r(e){return`${e}-${(new Date).getTime()}-${Math.random()}`}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{prefix:t="",length:n=7}=e,r="0123456789abcdefghijklmnopqrstuvwxyz";let c="";for(let i=0;i<n;i++){const e=Math.floor(36*Math.random());c+=r.charAt(e)}return t?`${t}-${c}`:c}n.d(t,{Ms:function(){return c},ZP:function(){return r}})},36225:function(e,t,n){n.d(t,{Ldj:function(){return r.Z},DpU:function(){return c.Z},OWD:function(){return i.Z},wyZ:function(){return o.Z},bMz:function(){return a.Z},Us8:function(){return s.Z},Ntl:function(){return u.Z}});var r=n(77865),c=n(22455),i=n(17294),o=n(5917),a=n(19989),s=n(51200),u=n(2068)},87327:function(e,t,n){n.d(t,{ID:function(){return i}});var r=n(54029),c=n(50959);const i=e=>c.isValidElement(e)&&"Icon"===(0,r.Z)(e.type,"elementType")},80586:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r,c,i=n(29922),o=n(58216),a=n(50959),s=n(78794),u=(n(30429),n(11391)),l=n(70354),f=n(99252),d=n(24166),h=n(39566),m=n(84875),_=n.n(m);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var p,g,w=function(e){return a.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},e),r||(r=a.createElement("rect",{width:18,height:18,fill:"#29292D",opacity:.5,rx:9})),c||(c=a.createElement("path",{stroke:"#FAFAFA",strokeWidth:1.35,d:"M13.925 9a4.924 4.924 0 1 0-1.443 3.482"})))},b="yumxD",j="IHczO",Z=n(11527),x=(0,a.memo)((function(e){var t=e.className,n=e.size,r=e.circleColor,c=void 0===r?"black-4":r,i=e.arcColor,o=void 0===i?"white-0":i,a=e.animated,s=void 0===a||a,u=function(e){return e.startsWith("#")||e.startsWith("rgb")?e:"var(--heycan-pro-".concat(e,")")};return(0,Z.jsx)(w,{className:_()(t,b,s&&j),width:n,height:n,style:{"--heycan-pro-loading-circle-color":u(c),"--heycan-pro-loading-arc-color":u(o)}})})),y="f4fcS",k="RGDuH",N=function(e){var t=e.className,n=e.status,r=e.children;return(0,Z.jsxs)("div",{className:_()(t,y),children:["loading"===n?(0,Z.jsx)(x,{size:18},n):(0,Z.jsx)(x,{size:18,circleColor:"#c30000",animated:!1},n),(0,Z.jsx)("div",{className:k,children:r})]})},C=n(97545),E=function(e){var t=(0,a.useRef)({title:e});t.current.title=e,(0,a.useEffect)((function(){(0,C.Td)({title:t.current.title})}),[])},H=function(e){switch(e){case"tr-TR":return"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/new_via_clause_creator_agreement_tr-TR.html?theme=lv_material_pc_front";case"ko-KR":return"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/new_via_clause_creator_agreement_ko-KR.html?theme=lv_material_pc_front";default:return"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/new_via_clause_creator_agreement_en.html?theme=lv_material_pc_front"}},O=n(87989),P=n(51852),D=function(){function e(){(0,O.Z)(this,e),(0,o.Z)(this,"timeoutHandle",null)}return(0,P.Z)(e,[{key:"timeout",value:function(e){var t=this;return this.cancel(),new Promise((function(n){t.timeoutHandle=setTimeout((function(){t.timeoutHandle=null,n()}),e)}))}},{key:"cancel",value:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}},{key:"hasTimeout",value:function(){return null!==this.timeoutHandle}}]),e}(),R=n(21571),T=function(e){return e.Origin="originUserAuthProtocol",e.Creator="createProtocol",e}({}),M=(p={},(0,o.Z)(p,T.Origin,"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/faceu/db84e32a-66a5-425a-afb2-0f32186f3cce_en.html"),(0,o.Z)(p,T.Creator,H()),g={},(0,o.Z)(g,T.Origin,R.oc.t("pc_sticker_original_notice_web")),(0,o.Z)(g,T.Creator,R.oc.t("pc_capcut_creator_agreement_web")),g),A="UH5T2",z="yJY8Z",S="B3Sm_",X="owDrO",$="rsms3",q="N1jdw",B="PERq2",F="BncqQ",L="HV1YR",U="dBFhy",W=(0,o.Z)({},T.Creator,H),I=function(e){var t=e.needReview,n=void 0===t||t,r=(0,a.useState)(!1),c=(0,i.Z)(r,2),o=c[0],m=c[1],_=(0,s.$)(),v=_.t,p=_.i18n,g=(0,a.useState)(!n),w=(0,i.Z)(g,2),b=w[0],j=w[1],x=(0,a.useRef)(null),y=(0,a.useMemo)((function(){return new D}),[]),k=(0,a.useState)(!1),C=(0,i.Z)(k,2),H=C[0],O=C[1],P=(0,a.useMemo)((function(){return W[T.Creator](p.language)}),[p.language]);(0,a.useEffect)((function(){var e=function(e){try{if("string"!=typeof e.data)return;var t=JSON.parse(e.data);"protocal"===t.from&&"bottom"===t.event&&j(!0)}catch(n){console.log(n),(0,d.Z)("captureException",n),j(!0)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,a.useEffect)((function(){var e;if(!H)return y.timeout(1e4).then((function(){O(!0)})),null===(e=x.current)||void 0===e||e.addEventListener("load",(function(){return y.cancel()})),function(){y.cancel()}}),[H]),E(M[T.Creator]);return(0,Z.jsxs)("div",{className:A,children:[(0,Z.jsx)("div",{className:z,children:H?(0,Z.jsx)("div",{className:L,children:(0,Z.jsx)(N,{status:"error",children:v("pc_sticker_abnormal_{X}_web",{X:(0,Z.jsx)("span",{className:U,onClick:function(){return O(!1)},children:v("pc_sticker_retry_web")},"X")})})}):(0,Z.jsx)("iframe",{id:"frame",ref:x,src:P})}),(0,Z.jsx)("div",{className:S,children:(0,Z.jsx)("div",{className:X,onClick:function(){return function(e){if(!b)return f.Z.error(v("pc_sticker_read_tick_web")),void m(!1);m(e)}(!o)},children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(l.ZP,{checked:o,className:$}),v("pc_sticker_agree_{X}_web",{X:(0,Z.jsx)("span",{className:q,children:M[T.Creator]},"X")})]})})}),(0,Z.jsxs)("div",{className:B,children:[(0,Z.jsx)(u.Z,{className:F,theme:"solid",disabled:!o||!b,onClick:function(){h.ZP.call("creatorProtocolDialogAction",{action:"Confirm"})},children:v("pc_stickers_release_confirm_agree_web")}),(0,Z.jsx)(u.Z,{theme:"solid",type:"tertiary",className:F,onClick:function(){h.ZP.call("creatorProtocolDialogAction",{action:"Cancel"})},children:v("pc_stickers_release_cancel_disagree_web")})]})]})},J=function(){return(0,Z.jsx)(I,{})}}}]);